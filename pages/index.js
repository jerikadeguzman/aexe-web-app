import Head from 'next/head'
import { Heading, Center, Flex, Button, Stack, HStack, VStack, Text, Input, Box, Image, Switch, Checkbox } from "@chakra-ui/react";
import { Modal, ModalOverlay, ModalContent, ModalHeader, ModalBody, ModalCloseButton, ModalFooter, cancelRef,} from "@chakra-ui/react";
import { FormControl, FormLabel, Select, show, InputGroup, InputLeftAddon } from '@chakra-ui/react';
import {
  AlertDialog,
  AlertDialogBody,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogContent,
  AlertDialogOverlay,
  AlertDialogCloseButton,
  } from '@chakra-ui/react'
import { doc, setDoc } from "firebase/firestore"; 
import { useEffect, useState, useContext } from "react";
import { useDisclosure } from '@chakra-ui/react'
import Router from 'next/router';
import React from 'react';


export default function Home() {
  const [hidePassword, setHidePassword] = useState(true);
  const [email, setEmail]= useState("")
  const [password, setPassword] = useState("")
  const { isOpen, onOpen, onClose } = useDisclosure();
  const {
    isOpen: isOpenAlertModal,
    onOpen: onOpenAlertModal,
    onClose: onCloseAlertModal,
  } = useDisclosure();

  const cancelRef = React.useRef()

  
 

  return (
    <>
      <Head>
        <title>Index</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/aexelogo.png" />
      </Head>
      <Box
      bgImage={'/gymhd.jpg'}
      height="100vh"
      width="100vw"
      bgSize="cover"
      >
      <Flex 
      {...styleProps.indexWrapper}>
         <Center>
         <Flex flexDirection="column" {...styleProps.formWrapper}>
          <VStack
          paddingTop="1vh" 
          >
          <Image
            borderRadius='full'
            boxSize='100px'
            src='/aexelogo.png'
            alt='logo'
            marginBottom="3"
          />
          <Box>
          <Input
            shadow={"inner"}
            bg={"white"}
            color={"black"}
            width="20vw"
            placeholder={"Email/Username"}
            onChange={(event) => setEmail(event.target.value)}
          />     
          </Box>
          <Box> 
          <Input
              type={hidePassword ? "password" : "text"}
              shadow={"inner"}
              bg={"white"}
              color={"black"}
              width="20vw"
              placeholder={"Password"}
              onChange={(event) => setPassword(event.target.value)}
              />   
            </Box>
            <Box>

            <HStack w='full' justify='space-between'>
            <Checkbox>Remember me</Checkbox>
            <Button colorScheme='blackAlpha' variant='link'>Forgot Password?</Button>
            </HStack>

            <HStack
            marginTop={"20px"}
            width="20vw"
            justifyContent="center"
            spacing={20}>
            
                <Button 
                colorScheme='red' 
                width={"7vw"} 
                alignSelf={"flex-start"}
                onClick={() => Router.push("/dashboard")}
                >Login</Button>  

                <Button 
                colorScheme='red' 
                width={"7vw"} 
                alignSelf={"flex-end"}
                onClick={onOpen}
                >Register</Button> 
                
                      <Modal closeOnOverlayClick={false} isOpen={isOpen} onClose={onClose} size='xl'>
                        <ModalOverlay />
                        <ModalContent>
                          <ModalHeader align='Center' fontSize='25px'>Create your account</ModalHeader>
                            <ModalCloseButton />
                            
                          <ModalBody>
                              <Box borderwidth="4px" borderRadius="lg" p={4} align="center" mt={4}>
                                <Image
                                    borderRadius='full'
                                    boxSize='100px'
                                    src='/aexelogo.png'
                                    alt='logo'
                                    marginBottom="3"/>

                                <FormControl isRequired>
                                    <Stack spacing={3}> 

                                      <HStack spacing={3}>

                                        <FormLabel>First Name</FormLabel>
                                          <Input placeholder='First Name'/>

                                        <FormLabel>Last Name</FormLabel>
                                          <Input placeholder='Last Name' />
                                        
                                      </HStack>


                                        <FormLabel>Username</FormLabel>
                                          <Input placeholder='Username'/>

                                        <FormLabel>Gender</FormLabel>
                                          <Select placeholder='Select Gender'>
                                            <option>Female</option>
                                            <option>Male</option>
                                          </Select>

                                      <HStack spacing={3} paddingTop='3'>
                                        <FormLabel>Birthdate</FormLabel>
                                          <Input
                                            placeholder="Select Date and Time"
                                            size="md"
                                            type="date"/>
                                        
                                        <FormLabel>Age</FormLabel>
                                          <Input placeholder='Age'/>

                                      </HStack>

                                      <FormLabel>Email</FormLabel>
                                        <Input placeholder={"Email/Username"} onChange={(event) => setEmail(event.target.value)}/>
                                        
                                      <FormLabel>Password</FormLabel>
                                        <InputGroup size='md'>
                                            <Input
                                                pr='4.5rem'
                                                type={show ? 'text' : 'password'}
                                                placeholder='Enter password'/>
                                        </InputGroup>

                                      <FormLabel>Address</FormLabel>
                                        <Input placeholder='Address'/>

                                      <FormLabel>Phone Number</FormLabel>
                                        <InputGroup>
                                            <InputLeftAddon children="+63"/>
                                            <Input type="phone" roundedLeft="0" placeholder="phone number" />
                                        </InputGroup>

                                        <Text fontSize="md" align="center" paddingTop="5">Already have an account? 
                                        <Button colorScheme='blackAlpha' variant='link' onClick={() => Router.push("/Home")}> Login</Button></Text>
                                
                                    </Stack> 
                                </FormControl>

                              </Box>
                            </ModalBody>

                              <ModalFooter>
                                <HStack direction='row' spacing={4}> 
                                  <Button colorScheme='red' 
                                          width={"7vw"} 
                                          alignSelf={"flex-start"} 
                                          onClick={() => Router.push("/dashboard")}>
                                          Sign Up</Button>
                                  <Button colorScheme='red' 
                                          width={"7vw"} 
                                          alignSelf={"flex-end"}
                                          gap='4'
                                          onClick={onOpen}> 
                                          Cancel</Button>

                                </HStack>    
                              </ModalFooter>

                        </ModalContent>
                    </Modal>
                    <Modal closeOnOverlayClick={false} isOpen={isOpen} onClose={onClose} size='xl'>
                        <ModalOverlay />
                        <ModalContent>
                          <ModalHeader align='Center' fontSize='25px'>Create your account</ModalHeader>
                            <ModalCloseButton />
                            
                          <ModalBody>
                              <Box borderwidth="4px" borderRadius="lg" p={4} align="center" mt={4}>
                                <Image
                                    borderRadius='full'
                                    boxSize='100px'
                                    src='/aexelogo.png'
                                    alt='logo'
                                    marginBottom="3"/>

                                <FormControl isRequired>
                                    <Stack spacing={3}> 

                                      <HStack spacing={3}>

                                        <FormLabel>First Name</FormLabel>
                                          <Input placeholder='First Name'/>

                                        <FormLabel>Last Name</FormLabel>
                                          <Input placeholder='Last Name' />
                                        
                                      </HStack>


                                        <FormLabel>Username</FormLabel>
                                          <Input placeholder='Username'/>

                                        <FormLabel>Gender</FormLabel>
                                          <Select placeholder='Select Gender'>
                                            <option>Female</option>
                                            <option>Male</option>
                                          </Select>

                                      <HStack spacing={3} paddingTop='3'>
                                        <FormLabel>Birthdate</FormLabel>
                                          <Input
                                            placeholder="Select Date and Time"
                                            size="md"
                                            type="date"/>
                                        
                                        <FormLabel>Age</FormLabel>
                                          <Input placeholder='Age'/>

                                      </HStack>

                                      <FormLabel>Email</FormLabel>
                                        <Input placeholder={"Email/Username"} onChange={(event) => setEmail(event.target.value)}/>
                                        
                                      <FormLabel>Password</FormLabel>
                                        <InputGroup size='md'>
                                            <Input
                                                pr='4.5rem'
                                                type={show ? 'text' : 'password'}
                                                placeholder='Enter password'/>
                                        </InputGroup>

                                      <FormLabel>Address</FormLabel>
                                        <Input placeholder='Address'/>

                                      <FormLabel>Phone Number</FormLabel>
                                        <InputGroup>
                                            <InputLeftAddon children="+63"/>
                                            <Input type="phone" roundedLeft="0" placeholder="phone number" />
                                        </InputGroup>

                                        <Text fontSize="md" align="center" paddingTop="5">Already have an account? 
                                        <Button colorScheme='blackAlpha' variant='link' onClick={() => Router.push("/Home")}> Login</Button></Text>
                                
                                    </Stack> 
                                </FormControl>

                              </Box>
                            </ModalBody>

                              <ModalFooter>
                                <HStack direction='row' spacing={4}> 
                                  <Button colorScheme='red' 
                                          width={"7vw"} 
                                          alignSelf={"flex-start"} 
                                          onClick={() => Router.push("/dashboard")}>
                                          Sign Up</Button>
                                  <Button colorScheme='red' 
                                          width={"7vw"} 
                                          alignSelf={"flex-end"}
                                          gap='4'
                                          onClick={onOpenAlertModal}> 
                                          Cancel</Button>

                                </HStack>    
                              </ModalFooter>

                        </ModalContent>
                    </Modal>

                    <Modal isOpen={isOpenAlertModal} onClose={onCloseAlertModal}>
                      <ModalOverlay />
                      <ModalContent>
                        <ModalCloseButton />
                        <ModalBody>
                        <Text> Are you sure you want to close this? </Text>
                        </ModalBody>

                        <ModalFooter>
                          <Button colorScheme='blue' mr={3} onClick={onCloseAlertModal}>
                            Close
                          </Button>
                          <Button variant='ghost'>Secondary Action</Button>
                        </ModalFooter>
                      </ModalContent>
                    </Modal>

                      
            </HStack>
            </Box>   
          </VStack>
         </Flex>
         </Center>
      </Flex>
      </Box>
    </>
  )
}

const styleProps = {
  indexWrapper: {
    height: "100vh",
    flexDirection: "column",
    alignItems: "center",
    justifyContent: "center",
  },
  formWrapper: {
    borderRadius: "xl",
    width: "54vh",
    height: "50vh",
    flexDirection: "column",
    alignItems: "center",
    padding: "2vh",
    color: "white",
    bgColor: "#E1CBA5",
    
    
  }
}
